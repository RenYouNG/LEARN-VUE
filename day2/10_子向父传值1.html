<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			.red{
				color:#f00;
			}
			.blue{
				color:#00f;
			}
			.green{
				color:#0f0;
			}
		</style>
	</head>
	<body>
		<div id="app">
			<!-- 2. 在son子组件上接收 @end中的数据 -->
			<son @end="run"></son>
			{{str}}
		</div>
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script>
			/*子向父组件传值: $emit() 自定义事件名称(广播将数据传出) */ 
			var son ={
				data(){
					return{
						msg:'good'
					}
				},
				methods:{
					play(){
						//1. $emit() 自定义事件名称(广播将数据传出)
						this.$emit('end',this.msg);
					}
				},
				template:'<div @click="play">子组件</div>'
			}
			new Vue({
				el:'#app',
				data:{
					str:'haha'
				},
				methods:{
					run(x){ // 3. x是子组件中传递过来的 msg的数据
                       this.str = x;						
					}
				},
				components:{
					son
				}
			})
		</script>
	</body>
</html>

